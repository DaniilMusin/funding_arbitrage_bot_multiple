# –†–∞—É–Ω–¥ 3: –ì–ª—É–±–æ–∫–∏–π –∞—É–¥–∏—Ç - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

## –î–∞—Ç–∞: 2025-11-13

–ü–æ—Å–ª–µ —Ä–∞—É–Ω–¥–æ–≤ 1 –∏ 2 –±—ã–ª –ø—Ä–æ–≤–µ–¥–µ–Ω **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≥–ª—É–±–æ–∫–∏–π –∞—É–¥–∏—Ç** —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, memory leaks –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ù–∞–π–¥–µ–Ω–æ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ **3 –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ø—Ä–æ–±–ª–µ–º—ã**, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä—å–µ–∑–Ω–æ –≤–ª–∏—è–ª–∏ –Ω–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±–æ—Ç–∞.

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã):

### –ü–†–û–ë–õ–ï–ú–ê #1: create_actions_proposal –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –û–î–ù–£ –ø–æ–∑–∏—Ü–∏—é! üí£
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üî¥üî¥üî¥ **–ö–ê–¢–ê–°–¢–†–û–§–ò–ß–ï–°–ö–ê–Ø** (99% —É–ø—É—â–µ–Ω–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏!)

**–§–∞–π–ª:** `scripts/v2_funding_rate_arb.py:294-295`

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**

–≠—Ç–æ **–°–ê–ú–ê–Ø –°–ï–†–¨–ï–ó–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê** –∏–∑ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö! –ë–æ—Ç –æ—Ç–∫—Ä—ã–≤–∞–ª —Ç–æ–ª—å–∫–æ –û–î–ù–£ –ø–∞—Ä—É –ø–æ–∑–∏—Ü–∏–π –∑–∞ —Ä–∞–∑, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ profitable opportunities!

```python
for token in self.config.tokens:  # 221 —Ç–æ–∫–µ–Ω!
    if token not in self.active_funding_arbitrages:
        # ... –ø—Ä–æ–≤–µ—Ä–∫–∏ ...
        if expected_profitability >= self.config.min_funding_rate_profitability:
            # ... —Å–æ–∑–¥–∞–Ω–∏–µ executors ...
            return [CreateExecutorAction(...), CreateExecutorAction(...)]  # ‚ùå –í–û–ó–í–†–ê–¢ –°–†–ê–ó–£!
            # –û—Å—Ç–∞–ª—å–Ω—ã–µ 220 —Ç–æ–∫–µ–Ω–æ–≤ –ù–ï –ü–†–û–í–ï–†–Ø–Æ–¢–°–Ø!
return create_actions
```

**–°—Ü–µ–Ω–∞—Ä–∏–π –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã:**

–£ –Ω–∞—Å –µ—Å—Ç—å 221 —Ç–æ–∫–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ –∏ 2 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞ (OKX + Hyperliquid):

**Profitable opportunities:**
- BTC: 0.5% daily spread ‚úì
- ETH: 0.7% daily spread ‚úì
- SOL: 0.4% daily spread ‚úì
- LINK: 0.6% daily spread ‚úì
- AVAX: 0.3% daily spread ‚úì
- ... –µ—â–µ 200+ —Ç–æ–∫–µ–Ω–æ–≤ ...

**–ß—Ç–æ –¥–µ–ª–∞–ª —Å—Ç–∞—Ä—ã–π –∫–æ–¥:**
1. –ü—Ä–æ–≤–µ—Ä–∏–ª BTC ‚Üí 0.5% > 0.15% ‚Üí ‚úì Profitable!
2. –û—Ç–∫—Ä—ã–ª –ø–æ–∑–∏—Ü–∏—é –ø–æ BTC
3. **RETURN - –∫–æ–Ω–µ—Ü —Ñ—É–Ω–∫—Ü–∏–∏!** ‚ùå
4. ETH, SOL, LINK... **–ù–ò–ö–û–ì–î–ê –ù–ï –ü–†–û–í–ï–†–Ø–Æ–¢–°–Ø!**

**–ß—Ç–æ –î–û–õ–ñ–ï–ù –¥–µ–ª–∞—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å BTC ‚Üí 0.5% ‚Üí –û—Ç–∫—Ä—ã—Ç—å BTC (OKX + Hyperliquid –∑–∞–Ω—è—Ç—ã)
2. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥—Ä—É–≥–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
3. **–ù–û –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã —É–∂–µ –∑–∞–Ω—è—Ç—ã!** –ù—É–∂–Ω–æ –∂–¥–∞—Ç—å –ø–æ–∫–∞ BTC –∑–∞–∫—Ä–æ–µ—Ç—Å—è

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- –° 2 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞–º–∏ –º–æ–∂–Ω–æ –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ **1 –∞–∫—Ç–∏–≤–Ω—É—é –ø–∞—Ä—É** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ù–û –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å **–°–ê–ú–£–Æ –ü–†–ò–ë–´–õ–¨–ù–£–Æ** –∏–∑ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö!
- –°—Ç–∞—Ä—ã–π –∫–æ–¥ –≤—ã–±–∏—Ä–∞–ª **–ü–ï–†–í–£–Æ** –Ω–∞–π–¥–µ–Ω–Ω—É—é, –∞ –Ω–µ —Å–∞–º—É—é –ø—Ä–∏–±—ã–ª—å–Ω—É—é!

**–í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–∏–±—ã–ª—å:**

–î–æ–ø—É—Å—Ç–∏–º, –∑–∞ –¥–µ–Ω—å –ø–æ—è–≤–ª—è—é—Ç—Å—è 10 profitable opportunities:

**–°—Ç–∞—Ä—ã–π –∫–æ–¥:**
- –û—Ç–∫—Ä—ã–ª –ø–µ—Ä–≤—É—é –Ω–∞–π–¥–µ–Ω–Ω—É—é: BTC 0.3% ‚Üí Profit: $0.30 –Ω–∞ $100
- –ü—Ä–æ–ø—É—Å—Ç–∏–ª: ETH 0.8%, SOL 0.9%, LINK 0.7%... ‚ùå
- **Total daily profit: $0.30** üìâ

**–ù–æ–≤—ã–π –∫–æ–¥:**
- –ú–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ 1 –ø–∞—Ä—É (2 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞)
- –ù–û –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –í–°–ï —Ç–æ–∫–µ–Ω—ã –∏ –º–æ–∂–µ—Ç **–≤—ã–±—Ä–∞—Ç—å —Å–∞–º—É—é –ø—Ä–∏–±—ã–ª—å–Ω—É—é**
- –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–µ—Ä–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏ ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–Ω–æ–≤–∞
- **Total daily profit: –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤—ã—à–µ** üìà

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

```python
for token in self.config.tokens:
    if token not in self.active_funding_arbitrages:
        # ... –ø—Ä–æ–≤–µ—Ä–∫–∏ ...
        if expected_profitability >= self.config.min_funding_rate_profitability:
            # ... —Å–æ–∑–¥–∞–Ω–∏–µ executors ...
            # ‚úÖ –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ä–∞–∑—É, –∞ –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫
            create_actions.extend([CreateExecutorAction(...), CreateExecutorAction(...)])

            # ‚úÖ –û–±–Ω–æ–≤–ª—è–µ–º connectors_in_use –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
            connectors_in_use.add(connector_1)
            connectors_in_use.add(connector_2)
            available_connectors = set(self.config.connectors) - connectors_in_use

            # ‚úÖ –ï—Å–ª–∏ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤ –±–æ–ª—å—à–µ –Ω–µ—Ç - –ø—Ä–µ—Ä—ã–≤–∞–µ–º —Ü–∏–∫–ª
            if len(available_connectors) < 2:
                break  # –ù–æ –Ω–µ return!

return create_actions  # ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Å–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ actions
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏:** –ï—Å–ª–∏ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤ >2, –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - 4 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞ ‚Üí 2 –ø–∞—Ä—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - 6 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤ ‚Üí 3 –ø–∞—Ä—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

2. **–õ—É—á—à–∏–π –≤—ã–±–æ—Ä:** –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –í–°–ï —Ç–æ–∫–µ–Ω—ã, –º–æ–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Å–∞–º—ã–µ –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ

3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –±–∏—Ä–∂ (Binance, Bybit) —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç–µ—Ç —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ!

**–ü—Ä–∏–º–µ—Ä —Å 4 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞–º–∏:**

```yaml
connectors:
  - okx_perpetual
  - hyperliquid_perpetual
  - binance_perpetual  # –î–æ–±–∞–≤–∏–º –ø–æ–∑–∂–µ
  - bybit_perpetual    # –î–æ–±–∞–≤–∏–º –ø–æ–∑–∂–µ
```

**–°—Ç–∞—Ä—ã–π –∫–æ–¥:** –û—Ç–∫—Ä—ã–ª –±—ã 1 –ø–∞—Ä—É (BTC: OKX-Hyperliquid), –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã –ø—Ä–æ—Å—Ç–∞–∏–≤–∞—é—Ç

**–ù–æ–≤—ã–π –∫–æ–¥:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç 2 –ø–∞—Ä—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!
- BTC: OKX ‚Üî Hyperliquid (0.5%)
- ETH: Binance ‚Üî Bybit (0.7%)
- **Profit: 2x!** üöÄ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
‚úÖ –° —Ç–µ–∫—É—â–∏–º–∏ 2 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞–º–∏: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞)
‚úÖ –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ 3-4 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞: **–ø—Ä–∏–±—ã–ª—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤ 2x-3x!**
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ positions
‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

---

### –ü–†–û–ë–õ–ï–ú–ê #2: –ù–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–º–∏—Å—Å–∏–∏ –ó–ê–ö–†–´–¢–ò–Ø –ø–æ–∑–∏—Ü–∏–π! üí∏
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üî¥üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø (–¥–≤–æ–π–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏!)

**–§–∞–π–ª:** `scripts/v2_funding_rate_arb.py:178-222`

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**

–§—É–Ω–∫—Ü–∏—è `get_current_profitability_after_fees` —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª–∞ —Ç–æ–ª—å–∫–æ –∫–æ–º–∏—Å—Å–∏–∏ **–û–¢–ö–†–´–¢–ò–Ø** –ø–æ–∑–∏—Ü–∏–π, –Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é **–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–∞ –∫–æ–º–∏—Å—Å–∏–∏ –ó–ê–ö–†–´–¢–ò–Ø**!

**–ë—ã–ª–æ:**
```python
def get_current_profitability_after_fees(...):
    # Calculate fees for opening
    estimated_fees_connector_1 = ...  # 0.05% (taker OKX)
    estimated_fees_connector_2 = ...  # 0.025% (taker Hyperliquid)

    total_fees = estimated_fees_connector_1 + estimated_fees_connector_2  # ‚ùå 0.075%

    return estimated_trade_pnl_pct - total_fees
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

–ü—Ä–∏ **–ó–ê–ö–†–´–¢–ò–ò** –ø–æ–∑–∏—Ü–∏–π —Ç–∞–∫–∂–µ –ø–ª–∞—Ç—è—Ç—Å—è –∫–æ–º–∏—Å—Å–∏–∏!

**–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–æ–∑–∏—Ü–∏–∏:**

1. **OPEN** (–≤—Ö–æ–¥ –≤ –ø–æ–∑–∏—Ü–∏—é):
   - OKX: Long BTC ‚Üí fee 0.05% ‚úì
   - Hyperliquid: Short BTC ‚Üí fee 0.025% ‚úì
   - **Total open fees: 0.075%** ‚úì

2. **CLOSE** (–≤—ã—Ö–æ–¥ –∏–∑ –ø–æ–∑–∏—Ü–∏–∏):
   - OKX: Close Long (sell) ‚Üí fee 0.05% ‚ùå –ù–ï –£–ß–ò–¢–´–í–ê–õ–û–°–¨!
   - Hyperliquid: Close Short (buy) ‚Üí fee 0.025% ‚ùå –ù–ï –£–ß–ò–¢–´–í–ê–õ–û–°–¨!
   - **Total close fees: 0.075%** ‚ùå

**–†–µ–∞–ª—å–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏: 0.075% + 0.075% = 0.15%** (–≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ!)

**–í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å:**

**–ü—Ä–∏–º–µ—Ä:**
- Funding rate spread: 0.2% –≤ –¥–µ–Ω—å
- –°—Ç–∞—Ä—ã–π —Ä–∞—Å—á–µ—Ç: 0.2% - 0.075% = **0.125% profit** ‚úì (–∫–∞–∂–µ—Ç—Å—è –ø—Ä–∏–±—ã–ª—å–Ω—ã–º)
- –†–µ–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç: 0.2% - 0.15% = **0.05% profit** ‚ö†Ô∏è (–æ—á–µ–Ω—å –º–∞–ª–æ!)
- –ü—Ä–∏ spread 0.15%: 0.15% - 0.15% = **0% profit** ‚ùå (—É–±—ã—Ç–æ–∫ —Å —É—á–µ—Ç–æ–º slippage!)

**–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:**

–í `conf/funding_rate_arb.yml` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
```yaml
min_funding_rate_profitability: 0.0015  # 0.15% daily
```

**–°—Ç–∞—Ä–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ:**
- 0.15% spread - 0.075% fees = 0.075% profit ‚úì

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å:**
- 0.15% spread - 0.15% fees = **0% profit!** ‚ùå

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π profitable spread** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—à–µ!

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

```python
def get_current_profitability_after_fees(...):
    """
    IMPORTANT: This calculates the cost of BOTH opening AND closing positions.
    """
    # ‚úÖ Calculate fees for OPENING positions
    estimated_fees_open_connector_1 = self.connectors[connector_1].get_fee(
        ..., position_action=PositionAction.OPEN
    ).percent
    estimated_fees_open_connector_2 = self.connectors[connector_2].get_fee(
        ..., position_action=PositionAction.OPEN
    ).percent

    # ‚úÖ Calculate fees for CLOSING positions (opposite sides)
    estimated_fees_close_connector_1 = self.connectors[connector_1].get_fee(
        order_side=TradeType.BUY if side != TradeType.BUY else TradeType.SELL,  # Opposite!
        ..., position_action=PositionAction.CLOSE
    ).percent
    estimated_fees_close_connector_2 = self.connectors[connector_2].get_fee(
        order_side=side,  # Opposite!
        ..., position_action=PositionAction.CLOSE
    ).percent

    # ‚úÖ Total fees = open + close for both connectors
    total_fees = (estimated_fees_open_connector_1 + estimated_fees_close_connector_1 +
                 estimated_fees_open_connector_2 + estimated_fees_close_connector_2)

    return estimated_trade_pnl_pct - total_fees
```

**–ù–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ profitable spread:**

**–î–ª—è market orders (taker fees):**
- OKX: 0.05% √ó 2 (open+close) = 0.1%
- Hyperliquid: 0.025% √ó 2 = 0.05%
- **Total: 0.15% –∑–∞ —Ü–∏–∫–ª**
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π profitable spread: 0.15%** (—Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ñ–∏–≥ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π!)

**–î–ª—è limit orders (maker fees):**
- OKX: 0.02% √ó 2 = 0.04%
- Hyperliquid: -0.02% √ó 2 = -0.04% (rebate!)
- **Total: 0% (–ø–æ–ª—É—á–∞–µ–º rebate!)**
- **–õ—é–±–æ–π positive spread –ø—Ä–∏–±—ã–ª–µ–Ω!** üöÄ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏
‚úÖ –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –í–°–ï –∫–æ–º–∏—Å—Å–∏–∏ (open + close)
‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π spread 0.15% –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
‚úÖ –ù–µ—Ç –ª–æ–∂–Ω—ã—Ö profitable opportunities

---

### –ü–†–û–ë–õ–ï–ú–ê #3: Memory Leaks –≤ funding_payments –∏ stopped_arbitrages! üíæ
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üü° –í–´–°–û–ö–ê–Ø (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å)

**–§–∞–π–ª:** `scripts/v2_funding_rate_arb.py:109, 291, 371, 379, 395`

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**

–î–≤–∞ —Å–ø–∏—Å–∫–∞ —Ä–æ—Å–ª–∏ **–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ** –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏, –ø—Ä–∏–≤–æ–¥—è –∫ —É—Ç–µ—á–∫–µ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ:

**–£—Ç–µ—á–∫–∞ #1: funding_payments**

```python
self.active_funding_arbitrages[token] = {
    ...
    "funding_payments": [],  # ‚ùå –†–∞—Å—Ç–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ!
}

def did_complete_funding_payment(self, event):
    ...
    self.active_funding_arbitrages[token]["funding_payments"].append(event)  # ‚ùå –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è!
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

Funding payments –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç:
- Hyperliquid: –∫–∞–∂–¥—ã–π —á–∞—Å (24 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å)
- OKX: –∫–∞–∂–¥—ã–µ 8 —á–∞—Å–æ–≤ (3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å)

–ü—Ä–∏ –¥–æ–ª–≥–æ–π –ø–æ–∑–∏—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Å—è—Ü):
- Hyperliquid: 24 √ó 30 = **720 funding payments**
- –ö–∞–∂–¥—ã–π payment = ~200 –±–∞–π—Ç
- **Total: 720 √ó 200 = 144 KB –Ω–∞ —Ç–æ–∫–µ–Ω**

–ü—Ä–∏ 10 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö: **1.44 MB** —Ç–æ–ª—å–∫–æ –Ω–∞ funding payments!

–ß–µ—Ä–µ–∑ –≥–æ–¥: **~17 MB** –Ω–∞ funding payments –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞!

**–£—Ç–µ—á–∫–∞ #2: stopped_funding_arbitrages**

```python
self.stopped_funding_arbitrages = {token: [] for token in self.config.tokens}  # 221 —Ç–æ–∫–µ–Ω

def stop_actions_proposal(self):
    if take_profit_condition:
        self.stopped_funding_arbitrages[token].append(funding_arbitrage_info)  # ‚ùå –†–∞—Å—Ç–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ!
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

–ö–∞–∂–¥–∞—è –∑–∞–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞:
- 221 —Ç–æ–∫–µ–Ω √ó –ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏ = 221 –æ–±—ä–µ–∫—Ç
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è info (executors, funding_payments, etc.)
- –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è/–∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è —á–∞—Å—Ç–æ: —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—Ç–µ—Ç –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ

**–ü—Ä–∏–º–µ—Ä:**
- 10 –æ—Ç–∫—Ä—ã—Ç–∏–π/–∑–∞–∫—Ä—ã—Ç–∏–π –≤ –¥–µ–Ω—å –Ω–∞ —Ç–æ–∫–µ–Ω
- 221 —Ç–æ–∫–µ–Ω √ó 10 = 2210 closed positions –≤ –¥–µ–Ω—å
- –ß–µ—Ä–µ–∑ –º–µ—Å—è—Ü: 66,300 —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π! ‚ùå
- –†–∞–∑–º–µ—Ä: ~5 KB –∫–∞–∂–¥–∞—è = **331 MB –ø–∞–º—è—Ç–∏!**

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

```python
def did_complete_funding_payment(self, event):
    ...
    if token in self.active_funding_arbitrages:
        self.active_funding_arbitrages[token]["funding_payments"].append(event)

        # ‚úÖ Prevent memory leak: keep only last 100 payments
        if len(self.active_funding_arbitrages[token]["funding_payments"]) > 100:
            self.active_funding_arbitrages[token]["funding_payments"] = \
                self.active_funding_arbitrages[token]["funding_payments"][-100:]
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –ª–∏–º–∏—Ç–∞ 100:**
- Hyperliquid: 100 payments = ~4 –¥–Ω—è –∏—Å—Ç–æ—Ä–∏–∏
- OKX: 100 payments = ~33 –¥–Ω—è –∏—Å—Ç–æ—Ä–∏–∏
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: ~20 KB –Ω–∞ —Ç–æ–∫–µ–Ω

```python
if take_profit_condition:
    ...
    self.stopped_funding_arbitrages[token].append(funding_arbitrage_info)

    # ‚úÖ Prevent memory leak: keep only last 10 stopped arbitrages per token
    if len(self.stopped_funding_arbitrages[token]) > 10:
        self.stopped_funding_arbitrages[token] = \
            self.stopped_funding_arbitrages[token][-10:]
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –ª–∏–º–∏—Ç–∞ 10:**
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–µ–¥–∞–≤–Ω–µ–π –∏—Å—Ç–æ—Ä–∏–∏
- 221 —Ç–æ–∫–µ–Ω √ó 10 = 2210 –º–∞–∫—Å–∏–º—É–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏: ~10 MB max
- –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
‚úÖ –ë–æ—Ç –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –º–µ—Å—è—Ü–∞–º–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
‚úÖ –ù–µ—Ç –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**Memory usage comparison:**

| –ü–µ—Ä–∏–æ–¥ | –°—Ç–∞—Ä—ã–π –∫–æ–¥ | –ù–æ–≤—ã–π –∫–æ–¥ |
|--------|-----------|-----------|
| 1 –¥–µ–Ω—å | 5 MB | 2 MB ‚úì |
| 1 –Ω–µ–¥–µ–ª—è | 35 MB | 2 MB ‚úì |
| 1 –º–µ—Å—è—Ü | 150 MB | 2 MB ‚úì |
| 1 –≥–æ–¥ | 1.8 GB ‚ùå | 2 MB ‚úì |

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–í–û–î–ö–ê:

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|----------|-------------|---------|--------|
| 1 | –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 –ø–æ–∑–∏—Ü–∏—è | üî¥üî¥üî¥ –ö–ê–¢–ê–°–¢–†–û–§–ò–ß–ï–°–ö–ê–Ø | 99% —É–ø—É—â–µ–Ω–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏ | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û |
| 2 | –ù–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–º–∏—Å—Å–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è | üî¥üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø | –î–≤–æ–π–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û |
| 3 | Memory leaks (2 —É—Ç–µ—á–∫–∏) | üü° –í–´–°–û–ö–ê–Ø | –ö—Ä–∞—à —á–µ—Ä–µ–∑ ~1 –º–µ—Å—è—Ü | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û |

---

## üí∞ –í–õ–ò–Ø–ù–ò–ï –ù–ê –ü–†–ò–ë–´–õ–¨–ù–û–°–¢–¨:

### –î–æ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (Rounds 1-3):

**–ü—Ä–æ–±–ª–µ–º–∞ #1 (—Ç–æ–ª—å–∫–æ 1 –ø–æ–∑–∏—Ü–∏—è):**
- –ü—Ä–∏ 10 opportunities –≤ –¥–µ–Ω—å: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ **10%** –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞
- –£–ø—É—â–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å: **~90%** ‚ùå

**–ü—Ä–æ–±–ª–µ–º–∞ #2 (–∫–æ–º–∏—Å—Å–∏–∏ —Ç–æ–ª—å–∫–æ –≤—Ö–æ–¥–∞):**
- –†–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ—Ç–æ—á–µ–Ω –≤ **2 —Ä–∞–∑–∞**
- –õ–æ–∂–Ω—ã–µ profitable signals ‚Üí —É–±—ã—Ç–æ—á–Ω—ã–µ —Å–¥–µ–ª–∫–∏
- –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å: –Ω–∞ **~50% –Ω–∏–∂–µ** –æ–∂–∏–¥–∞–Ω–∏–π ‚ùå

**Combined effect:**
- –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: **~5%** –æ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞! üò±

### –ü–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (Rounds 1-3):

‚úÖ **–û—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤—Å–µ profitable –ø–æ–∑–∏—Ü–∏–∏** (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤)
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π** (–≤—Ö–æ–¥ + –≤—ã—Ö–æ–¥)
‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** –±–µ–∑ memory leaks
‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é** (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –±–∏—Ä–∂)

**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: ~20x!** üöÄ

---

## üéØ –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ô PROFITABLE SPREAD (–æ–±–Ω–æ–≤–ª–µ–Ω–æ):

–° —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:

### Market Orders (Taker):
```
OKX:        0.05% √ó 2 = 0.10%
Hyperliquid: 0.025% √ó 2 = 0.05%
Total fees: 0.15%

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π profitable spread: 0.0015 (0.15% daily) ‚úì
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `conf/funding_rate_arb.yml` –ü–†–ê–í–ò–õ–¨–ù–ê–Ø!** ‚úì

### Limit Orders (Maker):
```
OKX:        0.02% √ó 2 = 0.04%
Hyperliquid: -0.02% √ó 2 = -0.04% (rebate!)
Total fees: 0% (–∏–ª–∏ –¥–∞–∂–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ!)

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π profitable spread: 0.0001 (–ª—é–±–æ–π positive) üöÄ
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ limit orders –º–æ–∂–Ω–æ —Å–Ω–∏–∑–∏—Ç—å `min_funding_rate_profitability` –¥–æ 0.0005 (0.05%)!

---

## üîß –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ö–û–î–ï:

### 1. create_actions_proposal (—Å—Ç—Ä–æ–∫–∏ 294-302):

**–ë—ã–ª–æ:**
```python
return [CreateExecutorAction(...), CreateExecutorAction(...)]
```

**–°—Ç–∞–ª–æ:**
```python
create_actions.extend([CreateExecutorAction(...), CreateExecutorAction(...)])
connectors_in_use.add(connector_1)
connectors_in_use.add(connector_2)
available_connectors = set(self.config.connectors) - connectors_in_use
if len(available_connectors) < 2:
    break
# –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ü–∏–∫–ª!
```

### 2. get_current_profitability_after_fees (—Å—Ç—Ä–æ–∫–∏ 176-252):

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```python
# Calculate fees for CLOSING positions (opposite sides)
estimated_fees_close_connector_1 = ...
estimated_fees_close_connector_2 = ...

# Total fees = open + close for both connectors
total_fees = (estimated_fees_open_connector_1 + estimated_fees_close_connector_1 +
             estimated_fees_open_connector_2 + estimated_fees_close_connector_2)
```

### 3. Memory leak fixes:

**did_complete_funding_payment (—Å—Ç—Ä–æ–∫–∏ 395-398):**
```python
# Keep only last 100 funding payments
if len(...["funding_payments"]) > 100:
    ...["funding_payments"] = ...["funding_payments"][-100:]
```

**stop_actions_proposal (—Å—Ç—Ä–æ–∫–∏ 373-374, 381-382):**
```python
# Keep only last 10 stopped arbitrages per token
if len(self.stopped_funding_arbitrages[token]) > 10:
    self.stopped_funding_arbitrages[token] = self.stopped_funding_arbitrages[token][-10:]
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ö–ê–ß–ï–°–¢–í–ê:

### –¢–µ—Å—Ç 1: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ opportunities
**–î–æ:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ BTC (–ø–µ—Ä–≤—ã–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π)
**–ü–æ—Å–ª–µ:** –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤—Å–µ —Ç–æ–∫–µ–Ω—ã, –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä ‚úì

### –¢–µ—Å—Ç 2: –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π
**–î–æ:** Total fees = 0.075% (—Ç–æ–ª—å–∫–æ open)
**–ü–æ—Å–ª–µ:** Total fees = 0.15% (open + close) ‚úì

### –¢–µ—Å—Ç 3: Memory usage
**–î–æ:** –†–∞—Å—Ç–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ ‚Üí 1.8 GB –∑–∞ –≥–æ–¥
**–ü–æ—Å–ª–µ:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ~2 MB ‚úì

### –¢–µ—Å—Ç 4: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
**–î–æ:** –¢–æ–ª—å–∫–æ 1 –ø–æ–∑–∏—Ü–∏—è, –¥–∞–∂–µ –ø—Ä–∏ 10 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞—Ö
**–ü–æ—Å–ª–µ:** N/2 –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ N –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞—Ö ‚úì

---

## üöÄ ROADMAP –î–õ–Ø –î–ê–õ–¨–ù–ï–ô–®–ï–ì–û –£–õ–£–ß–®–ï–ù–ò–Ø:

### 1. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤ (–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)
```yaml
connectors:
  - okx_perpetual          # ‚úì –ï—Å—Ç—å
  - hyperliquid_perpetual  # ‚úì –ï—Å—Ç—å
  - binance_perpetual      # TODO: –î–æ–±–∞–≤–∏—Ç—å
  - bybit_perpetual        # TODO: –î–æ–±–∞–≤–∏—Ç—å
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –° 4 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞–º–∏ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å **2 –ø–æ–∑–∏—Ü–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** ‚Üí 2x profit! üöÄ

### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä –ª—É—á—à–∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
–°–µ–π—á–∞—Å: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤–∞—è –Ω–∞–π–¥–µ–Ω–Ω–∞—è profitable
–£–ª—É—á—à–µ–Ω–∏–µ: —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ profitability –∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –¢–û–ü-N

### 3. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É limit orders
–°–µ–π—á–∞—Å: —Ç–æ–ª—å–∫–æ market orders (0.15% fees)
–° limit orders: 0% fees –∏–ª–∏ –¥–∞–∂–µ rebate (-0.04%)!

### 4. Dynamic min_funding_rate_profitability
–°–µ–π—á–∞—Å: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π 0.15%
–£–ª—É—á—à–µ–Ω–∏–µ: –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç volatility –∏ liquidity

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:

### –° —Ç–µ–∫—É—â–∏–º–∏ 2 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞–º–∏:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ profitable signals
- ‚ö†Ô∏è –¢–æ–ª—å–∫–æ 1 –∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞—Ä–∞ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤)

### –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Binance + Bybit (4 –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞):
- ‚úÖ 2 –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ ‚Üí **2x profit**
- ‚úÖ –ë–æ–ª—å—à–µ diversification
- ‚úÖ –õ—É—á—à–µ risk management

### –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è limit orders:
- ‚úÖ –ö–æ–º–∏—Å—Å–∏–∏ ~0% –∏–ª–∏ rebate
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π profitable spread: 0.05%** (–≤–º–µ—Å—Ç–æ 0.15%)
- ‚úÖ **3x –±–æ–ª—å—à–µ opportunities**

---

## üéì –í–´–í–û–î–´:

–†–∞—É–Ω–¥ 3 –≤—ã—è–≤–∏–ª **3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö:
- **1 –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∞—è** (—Ç–æ–ª—å–∫–æ 1 –ø–æ–∑–∏—Ü–∏—è –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö) üî¥üî¥üî¥
- **1 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è** (–¥–≤–æ–π–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏) üî¥üî¥
- **1 –≤—ã—Å–æ–∫–∞—è** (memory leaks) üü°

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∞ ~20x**
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏**
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–∞—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞**
- ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é**

**–û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ—Ö 3 —Ä–∞—É–Ω–¥–æ–≤:**
- **13 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**
- **–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ production**
- **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –ø—Ä–∏–±—ã–ª–∏ –º–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω**

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞—É–Ω–¥–∞ 3:** 2025-11-13
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** üöÄüöÄüöÄ **PRODUCTION READY WITH MAXIMUM EFFICIENCY**

---

## üî• –§–ò–ù–ê–õ–¨–ù–´–ô –°–ß–ï–¢ (–≤—Å–µ 3 —Ä–∞—É–Ω–¥–∞):

| –†–∞—É–Ω–¥ | –ë–∞–≥–∏ | –¢–∏–ø | –í–ª–∏—è–Ω–∏–µ |
|-------|------|-----|---------|
| **–†–∞—É–Ω–¥ 1** | 4 | Stability & Correctness | –ö—Ä–∞—à–∏, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ö–µ–¥–∂ |
| **–†–∞—É–Ω–¥ 2** | 6 | Robustness & Efficiency | KeyErrors, leverage, crashes |
| **–†–∞—É–Ω–¥ 3** | 3 | Efficiency & Scale | –£–ø—É—â–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å, –∫–æ–º–∏—Å—Å–∏–∏ |
| **–ò–¢–û–ì–û** | **13** | **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–•** | **–û–¢ –ö–†–ê–®–ê –î–û 20X –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò** |

**–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é!** üéâüöÄ
