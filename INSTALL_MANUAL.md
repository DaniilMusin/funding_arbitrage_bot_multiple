# üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –ë–ï–ó Docker

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ funding arbitrage –±–æ—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é –≤ —Å–∏—Å—Ç–µ–º–µ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Docker.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.10+** (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è 3.11 ‚úÖ)
- **PostgreSQL 15+** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö)
- **Redis** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è)
- **–ú–∏–Ω–∏–º—É–º $100 USDT** –Ω–∞ –∫–∞–∂–¥–æ–π –±–∏—Ä–∂–µ

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python
pip install -r requirements.txt

# –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ —Å –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π Cython:
pip install --no-build-isolation -e .
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env` (—É–∂–µ —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏):

```bash
nano .env
# –∏–ª–∏
vim .env
```

**–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**

```bash
# OKX API –∫–ª—é—á–∏
OKX_PERPETUAL_API_KEY=–≤–∞—à-–∫–ª—é—á-okx
OKX_PERPETUAL_SECRET_KEY=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç-okx
OKX_PERPETUAL_PASSPHRASE=–≤–∞—à-–ø–∞—Ä–æ–ª—å-okx

# Hyperliquid API –∫–ª—é—á–∏
HYPERLIQUID_PERPETUAL_API_KEY=–≤–∞—à-–∫–ª—é—á-hyperliquid
HYPERLIQUID_PERPETUAL_SECRET_KEY=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç-hyperliquid
```

**–ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏:**

- **OKX**: https://www.okx.com/account/my-api
  - –ü—Ä–∞–≤–∞: ‚úÖ Trade, ‚úÖ Read
  - ‚ùå Withdraw (–Ω–µ –Ω—É–∂–Ω–æ!)

- **Hyperliquid**: https://app.hyperliquid.xyz/
  - –°–æ–∑–¥–∞–π—Ç–µ Agent wallet —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∂–∏–º–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏

–í —Ñ–∞–π–ª–µ `.env` —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–µ–∂–∏–º:

```bash
# –î–ª—è –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Å —ç—Ç–æ–≥–æ):
PAPER_TRADING_MODE=true

# –î–ª—è –†–ï–ê–õ–¨–ù–û–ô —Ç–æ—Ä–≥–æ–≤–ª–∏:
PAPER_TRADING_MODE=false
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∏—Ä–∂–∞–º

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
python3 test_funding_arb.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[OK] OKX: OK (status 200)
[OK] Hyperliquid: OK (status 200)
[OK] YAML config loaded successfully
```

### 5. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python3 bin/hummingbot.py
```

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `conf/funding_rate_arb.yml`:

```yaml
min_funding_rate_profitability: 0.0015  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–ø—Ä–µ–¥ (0.15%)
position_size_quote: 100                # –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –≤ USDT
leverage: 5                             # –ö—Ä–µ–¥–∏—Ç–Ω–æ–µ –ø–ª–µ—á–æ (1-10x)

connectors:
  - okx_perpetual
  - hyperliquid_perpetual

tokens:
  - BTC
  - ETH
  - SOL
  # ... –¥–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞

–í `.env` –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:

```bash
# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–ø—Ä–µ–¥ –¥–ª—è –≤—Ö–æ–¥–∞ (0.0015 = 0.15% –≤ –¥–µ–Ω—å)
MIN_FUNDING_RATE_PROFITABILITY=0.0015

# –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ (–Ω–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–æ–≥–æ!)
MAX_POSITION_SIZE_QUOTE=100

# –ö—Ä–µ–¥–∏—Ç–Ω–æ–µ –ø–ª–µ—á–æ (–¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö: 3-5x)
DEFAULT_LEVERAGE=5

# Stop loss (2% –Ω–∞ –ø–æ–∑–∏—Ü–∏—é)
STOP_LOSS_PERCENTAGE=0.02

# –ú–∞–∫—Å–∏–º—É–º –ø–æ–∑–∏—Ü–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
MAX_CONCURRENT_POSITIONS=5
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å –ù–ï–¢ PostgreSQL, –±–æ—Ç –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ë–î).

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL:

```bash
# Ubuntu/Debian
sudo apt update
sudo apt install postgresql postgresql-contrib

# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres psql
CREATE DATABASE hummingbot;
CREATE USER hummingbot WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE hummingbot TO hummingbot;
\q

# –û–±–Ω–æ–≤–∏—Ç—å .env
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=hummingbot
POSTGRES_USER=hummingbot
POSTGRES_PASSWORD=your_password
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health Check

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
curl http://localhost:5723/health/ready

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ—Ç—Ä–∏–∫–∏
curl http://localhost:5723/metrics
```

### –õ–æ–≥–∏

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `logs/`:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤
tail -f logs/hummingbot.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep ERROR logs/hummingbot.log
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### üî¥ –ö–†–ò–¢–ò–ß–ù–û:

1. **–ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ Git!** (—É–∂–µ –≤ `.gitignore`)
2. **–ù–∞—á–Ω–∏—Ç–µ —Å PAPER_TRADING_MODE=true**
3. **–ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å—É–º–º** (100-500 USDT)
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–∏–º–∏—Ç—ã API** –Ω–∞ –±–∏—Ä–∂–∞—Ö
5. **–ù–µ –¥–∞–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–≤–æ–¥** (Withdraw) –¥–ª—è API –∫–ª—é—á–µ–π

### üü° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø–æ–∑–∏—Ü–∏–∏ 24/7** –≤ –ø–µ—Ä–≤—ã–µ –¥–Ω–∏
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ sub-accounts** –Ω–∞ –±–∏—Ä–∂–∞—Ö
3. **–î–µ—Ä–∂–∏—Ç–µ –∑–∞–ø–∞—Å –º–∞—Ä–∂–∏** (–º–∏–Ω–∏–º—É–º 50% —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤)
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ funding rates** –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–≤–æ–µ –≤—Ä–µ–º—è
5. **–ß–∏—Ç–∞–π—Ç–µ –ª–æ–≥–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ**

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "No module named 'aiohttp'"

```bash
pip install -r requirements.txt
```

### –û—à–∏–±–∫–∞: "API key invalid"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π –≤ `.env`
2. –ü—Ä–∞–≤–∞ API –∫–ª—é—á–∞ (Trade + Read)
3. IP whitelist –Ω–∞ –±–∏—Ä–∂–µ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

### –û—à–∏–±–∫–∞: "Insufficient margin"

–ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ –±–∏—Ä–∂–µ –º–∏–Ω–∏–º—É–º –Ω–∞ $100 USDT

### –ë–æ—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. `PAPER_TRADING_MODE=false` –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
2. Funding rate —Å–ø—Ä–µ–¥ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π (> MIN_FUNDING_RATE_PROFITABILITY)
3. –õ–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: `grep "blocked" logs/hummingbot.log`

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./README.md)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](./CONFIGURATION_README.md)
- [–ì–∞–π–¥ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤–æ–π –±–∏—Ä–∂–∏](./ADD_NEW_EXCHANGE_GUIDE.md)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](./SECURITY.md)

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ù–∞—à–ª–∏ –±–∞–≥? [–°–æ–∑–¥–∞–π—Ç–µ issue](https://github.com/DaniilMusin/funding_arbitrage_bot_multiple/issues)

---

**–£–¥–∞—á–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏! üöÄ**

_–ü–æ–º–Ω–∏—Ç–µ: —Ç–æ—Ä–≥–æ–≤–ª—è —Å –ø–ª–µ—á–æ–º –Ω–µ—Å–µ—Ç –≤—ã—Å–æ–∫–∏–µ —Ä–∏—Å–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ —Å—Ä–µ–¥—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ –ø–æ—Ç–µ—Ä—è—Ç—å._
